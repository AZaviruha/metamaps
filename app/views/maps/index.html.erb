<% #
   # @file
   # Shows a list of all maps, or just a user's maps.
   # GET /explore/active(.:format)
   # GET /explore/featured(.:format)
   # GET /explore/mine(.:format)
   # GET /explore/mapper/:id(.:format)
   # GET /maps(.:format)
   # %>

<script>
    <% if @request == "you" %>
      Metamaps.Maps.Mine = <%= @maps.to_json.html_safe %>;
      Metamaps.currentPage = "mine";
      <% content_for :title, "Explore My Maps | Metamaps" %>

    <% elsif @request == "featured" %>
      Metamaps.Maps.Featured = <%= @maps.to_json.html_safe %>;
      Metamaps.currentPage = "featured";
      <% content_for :title, "Explore Featured Maps | Metamaps" %>

    <% elsif @request == "active" %>
      Metamaps.Maps.Active = <%= @maps.to_json.html_safe %>;
      Metamaps.currentPage = "active";
      <% content_for :title, "Explore Active Maps | Metamaps" %>

    <% elsif @request == "mapper" %>
      Metamaps.Maps.Mapper = {
        models: <%= @maps.to_json.html_safe %>,
        id: <%= params[:id] %>
      };
      Metamaps.currentPage = "mapper";
      <% content_for :title, @user.name + " | Metamaps" %>
    <% end %>
    Metamaps.currentSection = "explore";
    Metamaps.GlobalUI.Search.isOpen = true;
    Metamaps.GlobalUI.Search.lock();
</script>
